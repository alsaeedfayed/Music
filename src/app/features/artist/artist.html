<div
  class="container row"
  infiniteScroll
  [threshold]="30"
  [loading]="isLoading()"
  (reachEnd)="loadMoreSongs()"
>
  <div class="p-5 col-12">
    <app-artist-header
      (playMix)="onPlayMix()"
      [isMixPlaying]="isMixPlaying"
      (pauseMixPlaying)="pause()"
    ></app-artist-header>
  </div>

  <div class="track">
    <app-table [cols]="columns" [isSelectable]="isSelectable" [data]="songs">
      <app-context-menu [useDefault]="true" actions></app-context-menu>
    </app-table>
  </div>
</div>

<!-- Templates for custom cells -->
<ng-template #trackCell let-song>
  <div class="d-flex align-content-center track-cell align-items-center gap-4">
    <div class="imageicon">
      <img [src]="song.album.cover_small" alt="cover" width="40" height="40" />
      @if (song === store.songs.current() && store.songs.isPlaying()) {
      <a class="waves-icon" (click)="pause()">
        <span class="audio-waves">
          <span></span><span (click)="pause()"></span><span></span>
        </span>
      </a>
      } @else {
      <i
        (click)="playSong(song)"
        class="play-icon bx bx-play fs-3 p-1 d-flex align-items-center justify-content-center text-white"
      ></i>
      }
    </div>
    <span>{{ song.title }}</span>
  </div>
</ng-template>

<ng-template #albumCell let-song>
  <div class="d-flex items-center gap-5">
    <i class="bx bx-heart"></i>
    <div><app-context-menu [useDefault]="true"> </app-context-menu></div>
    <span>{{ song.album.title }}</span>
  </div>
</ng-template>

<ng-template #timeCell let-song>
  <span>{{ song.duration | date : "mm:ss" }}</span>
</ng-template>

<ng-template #actionCell let-song>
  <button (click)="selectSong(song)">selecttt</button>
</ng-template>
